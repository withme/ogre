<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>OGRE: Setting up an OGRE project</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="ogre_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ogre-logo-wetfloor.gif"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OGRE
   &#160;<span id="projectnumber">1.10.7</span>
   </div>
   <div id="projectbrief">Object-Oriented Graphics Rendering Engine</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('setup.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Setting up an OGRE project </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><dl class="section note"><dt>Note</dt><dd>see BuildingOgre.md for instructions how to build OGRE itself </dd></dl>
<h1><a class="anchor" id="cmake"></a>
CMake Configuration</h1>
<p><a class="el" href="namespace_ogre.html">Ogre</a> uses CMake as its build system. It is recommended that you use it in your project as well. Then all you need is to add the following three lines to your project </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment"># specify which version you need</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;find_package(OGRE 1.10 REQUIRED)</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"># the search paths</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;include_directories(${OGRE_INCLUDE_DIRS})</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;link_directories(${OGRE_LIBRARY_DIRS})</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"># copy essential config files next to our binary where OGRE autodiscovers them</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;file(COPY ${OGRE_CONFIG_DIR}/plugins.cfg ${OGRE_CONFIG_DIR}/resources.cfg </div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;     DESTINATION ${CMAKE_BINARY_DIR})</div></div><!-- fragment --><p>These settings include all available components and third party libraries OGRE depends on (e.g. boost) - nothing more to do.</p>
<p>If you installed OGRE in a non-standard path, you will have to set <code>OGRE_DIR</code> to the location of <code>OGREConfig.cmake</code> so <code>find_package</code> can figure out the rest.</p>
<p>For inspecting the detected OGRE installation, the following CMake variables are available</p><ul>
<li><code>OGRE_STATIC</code> - whether ogre was build as static lib</li>
<li><code>OGRE_${COMPONENT}_FOUND</code> - ${COMPONENT} is available</li>
<li><code>OGRE_PLUGIN_DIR</code> - The directory where the OGRE plugins are located</li>
<li><code>OGRE_MEDIA_DIR</code> - The directory where the OGRE sample media is located</li>
<li><code>OGRE_CONFIG_DIR</code> - The directory where the OGRE config files are located</li>
</ul>
<h1><a class="anchor" id="skeleton"></a>
Application skeleton</h1>
<p>The easiest way to get started is the <a class="el" href="namespace_ogre_bites.html">OgreBites</a> Component. It handles <a class="el" href="namespace_ogre.html">Ogre</a> startup/ tear down (including <a class="el" href="class_ogre_1_1_overlay.html" title="Represents a layer which is rendered on top of the &#39;normal&#39; scene contents. ">Ogre::Overlay</a>, <a class="el" href="rtss.html">RTSS</a>), input using SDL2 and even includes a <a class="el" href="trays.html">Simple GUI System</a>.</p>
<p>This is useful if all you want is to get a Scene with a FPS counter up and running (rapid prototyping). If available it also uses SDL2 for input - you now just have to implement the callbacks.</p>
<p>To use it, simply derive from <a class="el" href="class_ogre_bites_1_1_application_context.html" title="Base class responsible for setting up a common context for applications. ">OgreBites::ApplicationContext</a> and if you want to get input events from <a class="el" href="struct_ogre_bites_1_1_input_listener.html" title="the return values of the callbacks are ignored by ApplicationContext however they can be used to cont...">OgreBites::InputListener</a></p>
<div class="fragment"><div class="line"><span class="keyword">class </span>MyTestApp : <span class="keyword">public</span> <a class="code" href="class_ogre_bites_1_1_application_context.html">OgreBites::ApplicationContext</a>, <span class="keyword">public</span> <a class="code" href="struct_ogre_bites_1_1_input_listener.html">OgreBites::InputListener</a></div><div class="line">{</div><div class="line">    ...</div><div class="line">}</div></div><!-- fragment --><p> in the constructor we register ourself as a InputListener </p><div class="fragment"><div class="line">MyTestApp::MyTestApp() : <a class="code" href="namespace_ogre_bites.html">OgreBites</a>::ApplicationContext(<span class="stringliteral">&quot;MyTestApp&quot;</span>)</div><div class="line">{</div><div class="line">    addInputListener(<span class="keyword">this</span>);</div><div class="line">}</div></div><!-- fragment --><p> to handle input events, we then override the according method </p><div class="fragment"><div class="line"><span class="keywordtype">bool</span> MyTestApp::keyPressed(<span class="keyword">const</span> <a class="code" href="struct_ogre_bites_1_1_keyboard_event.html">OgreBites::KeyboardEvent</a>&amp; evt)</div><div class="line">{</div><div class="line">    <span class="keywordflow">if</span> (evt.<a class="code" href="struct_ogre_bites_1_1_keyboard_event.html#a0d402ed4c6025e4a0a83fdac5eef219c">keysym</a>.<a class="code" href="struct_ogre_bites_1_1_keyboard_event.html#a747c886f46684fab3e14a9b8d751333b">sym</a> == <a class="code" href="_ogre_input_8h.html#abc5c98fcc1211af2b80116dd6e0a035dab050f8c23b43c76246a93e599b7b411f">SDLK_ESCAPE</a>)</div><div class="line">    {</div><div class="line">        getRoot()-&gt;queueEndRendering();</div><div class="line">    }</div><div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line">}</div></div><!-- fragment --><p> the interesting part however is the setup method </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> MyTestApp::setup(<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <span class="comment">// do not forget to call the base first</span></div><div class="line">    <a class="code" href="class_ogre_bites_1_1_application_context.html#ad2bfdfa72c9d95e55657854c2094c610">OgreBites::ApplicationContext::setup</a>();</div><div class="line"></div><div class="line">    <span class="comment">// get a pointer to the already created root</span></div><div class="line">    <a class="code" href="class_ogre_1_1_root.html">Ogre::Root</a>* root = getRoot();</div><div class="line">    <a class="code" href="class_ogre_1_1_scene_manager.html">Ogre::SceneManager</a>* scnMgr = root-&gt;<a class="code" href="class_ogre_1_1_root.html#af1dbf157534a776545ea6dcd8a03ee7a">createSceneManager</a>(<a class="code" href="group___scene.html#gga7383602bd480d43b80c626969b9af914a0af8f844019e52fe112e9a946a919fcd">Ogre::ST_GENERIC</a>);</div><div class="line"></div><div class="line">    <span class="comment">// register our scene with the RTSS</span></div><div class="line">    <a class="code" href="class_ogre_1_1_r_t_shader_1_1_shader_generator.html">Ogre::RTShader::ShaderGenerator</a>* shadergen = <a class="code" href="class_ogre_1_1_r_t_shader_1_1_shader_generator.html#acd96bb2cad55be69d0fe8c6dc28d3590">Ogre::RTShader::ShaderGenerator::getSingletonPtr</a>();</div><div class="line">    shadergen-&gt;<a class="code" href="class_ogre_1_1_r_t_shader_1_1_shader_generator.html#a60704776c069e2a6bd37692f88c56815">addSceneManager</a>(scnMgr);</div><div class="line"></div><div class="line">    <span class="comment">// without light we would just get a black screen    </span></div><div class="line">    <a class="code" href="class_ogre_1_1_light.html">Ogre::Light</a>* light = scnMgr-&gt;<a class="code" href="class_ogre_1_1_scene_manager.html#ab127d52207729591dd51cb12a5b2ed2c">createLight</a>(<span class="stringliteral">&quot;MainLight&quot;</span>);</div><div class="line">    light-&gt;<a class="code" href="class_ogre_1_1_light.html#af45236b1551783320d75c662abdf9b1b">setPosition</a>(0, 10, 15);</div><div class="line"></div><div class="line">    <span class="comment">// also need to tell where we are</span></div><div class="line">    <a class="code" href="class_ogre_1_1_scene_node.html">Ogre::SceneNode</a>* camNode = scnMgr-&gt;<a class="code" href="class_ogre_1_1_scene_manager.html#a1ef8edf722bd8436ad414967bc2e8c51">getRootSceneNode</a>()-&gt;<a class="code" href="class_ogre_1_1_scene_node.html#aeaee9cb1cb0c23fab2cc9bab08f51181">createChildSceneNode</a>();</div><div class="line">    camNode-&gt;<a class="code" href="class_ogre_1_1_node.html#a72e58d4789cfe29e4538399b4250ce5a">setPosition</a>(0, 0, 15);</div><div class="line">    camNode-&gt;<a class="code" href="class_ogre_1_1_scene_node.html#a665c4750906917dd061b141c03d432de">lookAt</a>(<a class="code" href="class_ogre_1_1_vector3.html">Ogre::Vector3</a>(0, 0, -1), <a class="code" href="class_ogre_1_1_node.html#ac42e2063379286eb673eaffff6ca5e99a34e6c3ebabc2e9fa00de4f62be0ce7ce">Ogre::Node::TS_PARENT</a>);</div><div class="line"></div><div class="line">    <span class="comment">// create the camera</span></div><div class="line">    <a class="code" href="class_ogre_1_1_camera.html">Ogre::Camera</a>* cam = scnMgr-&gt;<a class="code" href="class_ogre_1_1_scene_manager.html#a62ca781b4c6d23dc3aab1f3a45d61843">createCamera</a>(<span class="stringliteral">&quot;myCam&quot;</span>);</div><div class="line">    cam-&gt;<a class="code" href="class_ogre_1_1_frustum.html#a5c3e1f6a763318587937678a237eb9d3">setNearClipDistance</a>(5); <span class="comment">// specific to this sample</span></div><div class="line">    cam-&gt;<a class="code" href="class_ogre_1_1_camera.html#aac250bb57c630543b8241bfc8eb8b88a">setAutoAspectRatio</a>(<span class="keyword">true</span>);</div><div class="line">    camNode-&gt;<a class="code" href="class_ogre_1_1_scene_node.html#a51052c58747a77a6cf7451b700e7eb87">attachObject</a>(cam);</div><div class="line"></div><div class="line">    <span class="comment">// and tell it to render into the main window</span></div><div class="line">    getRenderWindow()-&gt;addViewport(cam);</div><div class="line"></div><div class="line">    <span class="comment">// finally something to render</span></div><div class="line">    <a class="code" href="class_ogre_1_1_entity.html">Ogre::Entity</a>* ent = scnMgr-&gt;<a class="code" href="class_ogre_1_1_scene_manager.html#a7bf9c5edb0ae3105c546bcad39252874">createEntity</a>(<span class="stringliteral">&quot;Sinbad.mesh&quot;</span>);</div><div class="line">    <a class="code" href="class_ogre_1_1_scene_node.html">Ogre::SceneNode</a>* node = scnMgr-&gt;<a class="code" href="class_ogre_1_1_scene_manager.html#a1ef8edf722bd8436ad414967bc2e8c51">getRootSceneNode</a>()-&gt;<a class="code" href="class_ogre_1_1_scene_node.html#aeaee9cb1cb0c23fab2cc9bab08f51181">createChildSceneNode</a>();</div><div class="line">    node-&gt;<a class="code" href="class_ogre_1_1_scene_node.html#a51052c58747a77a6cf7451b700e7eb87">attachObject</a>(ent);</div><div class="line">}</div></div><!-- fragment --><p> finally we start everything as </p><div class="fragment"><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[])</div><div class="line">{</div><div class="line">    MyTestApp app;</div><div class="line">    app.initApp();</div><div class="line">    app.getRoot()-&gt;startRendering();</div><div class="line">    app.closeApp();</div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>you can find the full code in <code>Samples/Bootstrap</code>.</dd></dl>
<p><a class="el" href="namespace_ogre_bites.html">OgreBites</a> itself is also a good starting point if you want to do more sophisticated things like embedding OGRE into a Qt application or similar. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="tutorials.html">Tutorials</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
